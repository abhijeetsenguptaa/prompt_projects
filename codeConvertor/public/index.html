<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="styles.css" />
  </head>
  <body>
    <header>
      <select name="languages" id="languages">
        <option value="">Choose Language</option>
        <option value="Java">Java</option>
        <option value="Python">Python</option>
        <option value="C++">C++</option>
        <option value="C">C</option>
        <option value="Ruby">Ruby</option>
      </select>
      <button class="header-button" onclick="convertCode()">Convert</button>
      <button class="header-button" onclick="debugCode()">Debug</button>
      <button class="header-button" onclick="qualityCheck()">
        Quality Check
      </button>
    </header>

    <div class="container">
      <div class="input-panel">
        <h2>Input Code</h2>
        <textarea id="input-code" rows="10"></textarea>
      </div>

      <div class="output-panel">
        <h2>Output Panel</h2>
        <div id="output-panel"></div>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      async function convertCode() {
        const code = document.getElementById("input-code").value;
        const language = document.getElementById("languages").value;

        const response = await fetch(`/convert`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ code, language }),
        });

        const data = await response.json();
        document.getElementById("output-panel").innerText = data.response;
      }

      async function debugCode() {
        const code = document.getElementById("input-code").value;

        const response = await fetch(`/debug`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ code }),
        });

        const data = await response.json();
        document.getElementById("output-panel").innerText = data.response;
      }

      async function qualityCheck() {
        const code = document.getElementById("input-code").value;

        const response = await fetch(`/quality`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ code }),
        });

        const data = await response.json();
        document.getElementById("output-panel").innerText = data.response;
      }
    </script>
  </body>
</html>
